<div class="matModalTitle">
  <h5 class="m-0">Car Model</h5>
  <button
    mat-icon-button
    type="button"
    (click)="close()"
    aria-label="Example icon button with a vertical three dot icon"
  >
    <mat-icon>close</mat-icon>
  </button>
</div>

<mat-dialog-content class="py-3 px-4 m-0">
  <form class="example-form form" [formGroup]="carModelForm">
    <div class="row">
      <div class="col-sm-6">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Car Make</mat-label>
          <mat-select formControlName="carMakeId">
            <mat-option (click)="addEditCarMake('add', {})">
              Add Car Make
              <mat-icon class="material-icons-outlined"> add </mat-icon>
            </mat-option>
            <mat-option
              *ngFor="let carMake of carMakes$ | async"
              [value]="carMake.id"
              >{{ carMake.name }}
              <mat-icon
                class="material-icons-outlined editDropdownIcon mr-4"
                (click)="addEditCarMake('edit', carMake)"
                >mode</mat-icon
              >
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div class="col-sm-6">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Model Name</mat-label>
          <input
            matInput
            placeholder="Model Name"
            formControlName="name"
            (input)="onNameChange($event)"
            type="text"
          />
        </mat-form-field>
        <mat-error *ngIf="exists$ | async"
          >{{ carModelForm.value.name }} already exists!</mat-error
        >
      </div>
    </div>

    <div class="col-md-12 py-4 text-center">
      <!-- <button mat-button (click)="check()"> CHECK</button> -->
      <button
        mat-button
        type="button"
        class="theme-btn mx-2"
        (click)="saveCarModel()"
        [disabled]="carModelForm.invalid || (exists$ | async)"
        [ngClass]="{ disabledBtn: carModelForm.invalid || (exists$ | async) }"
      >
        <mat-icon class="material-icons-outlined">save</mat-icon>
        Save
      </button>

      <!-- <button mat-button type="button" class="default-btn mx-2 text-grey" (click)="cancel()">
               <mat-icon class="material-icons-outlined">cancel</mat-icon>
                Cancel
            </button> -->
    </div>
  </form>
</mat-dialog-content>
